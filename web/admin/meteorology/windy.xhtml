<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>


        <title>Sismar - Windy</title>

        <!-- Importações padrão -->
        <ui:include src="/admin/components/headdefault.xhtml" /> 

        <!-- Leaflet -->                  
        <link rel="stylesheet" href="https://unpkg.com/leaflet@0.7.7/dist/leaflet.css"
              crossorigin=""></link>   

        <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>

        <script src="https://api4.windy.com/assets/libBoot.js"
        crossorigin=""></script>


        <!-- Style local -->               
        <h:outputStylesheet name="css/bootstrap.css" />


        <style>

            #windy{
                width: 100%;
                height: 100%;
            }

            #windy #logo-wrapper {
                top: initial;
                bottom: 100px;
            }

            #windy #logo-wrapper #logo {
                left: 100% !important;
                margin-left: -160px !important;
                transform: scale(.4, .4) !important;
                display: flex;
            }

            #logo > span{
                font-size: 22px !important;
                color: white !important;
                font-weight: bold !important;     
                margin-top: 30px !important;
                margin-right: 10px !important;
            }

            @media (min-width: 768px){
                #windy #logo-wrapper #logo{
                    transform: scale(.5, .5) !important;
                    margin-left: -170px !important;
                }
            }

        </style>

    </h:head>

    <h:body>        

        <div class="container-fluid" style="padding: 0px">           

            <!-- Importar menu -->
            <ui:include src="/admin/components/menu.xhtml" />

            <!-- Importar header -->
            <ui:include src="/admin/components/header.xhtml" />   

            <!-- Corpo do container: conteúdo -->
            <div id="content-map">
                <div id="windy"></div>
            </div> <!-- Fechamento do conteúdo -->  

            <!-- Importar rodapé -->
            <ui:include src="/admin/components/footer.xhtml" />   

        </div> <!-- Fechamento do container -->

        <h:outputScript name="js/bootstrap.min.js" target="body"/>
        <h:outputScript name="js/menu.js" target="body"/>    

        <script>

            $(function () {

                $(".menu-meteorology").addClass("active");
                $(".menu-meteorology-windy").addClass("active-link");

            });

            const options = {
                key: "opbYXhlDzqNt63jqAe6vEjhiZSaZYcpR",
                verbose: false,
                lat: -23.973401,
                lon: -46.290103,
                zoom: 10
            };

            windyInit(options, windyAPI => {
                const {map} = windyAPI;
                $("#logo").prepend("<span>Fonte: </span>");
            });

        </script>

    </h:body>

</html>